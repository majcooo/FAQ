<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Git FAQs ❔ - Frequently Asked Questions ❔</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Git FAQs \u2754";
    var mkdocs_page_input_path = "GitFAQ.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Frequently Asked Questions ❔</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Welcome to MkDocs</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Git FAQs ❔</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#git-faqs">Git FAQs ❔</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#general">General</a></li>
        
            <li><a class="toctree-l3" href="#branching">Branching</a></li>
        
            <li><a class="toctree-l3" href="#undoing">Undoing</a></li>
        
            <li><a class="toctree-l3" href="#authoring">Authoring</a></li>
        
            <li><a class="toctree-l3" href="#patching">Patching</a></li>
        
            <li><a class="toctree-l3" href="#stashes">Stashes</a></li>
        
            <li><a class="toctree-l3" href="#tags">Tags</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Frequently Asked Questions ❔</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Git FAQs ❔</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="git-faqs">Git FAQs ❔<a class="headerlink" href="#git-faqs" title="Permanent link">&para;</a></h1>
<p>This document should help you to avoid the situation parodied in the joke below. It mainly focuses on the git command line at the time of writing. Feel free to add FAQs or amend the existing ones. Basic git a and command line skills are assumed.</p>
<p><img alt="What is Git" src="../img/GitFAQ/WhatIsGit.png" /></p>
<h2 id="general">General<a class="headerlink" href="#general" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1: I'm not sure what is going to be committed. How do I view my local changes?</summary>
<p>Show unstaged local changes</p>
<div class="codehilite"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">[</span><span class="n">file</span><span class="o">]</span><span class="w"></span>
</code></pre></div>

<p>Show staged local changes</p>
<div class="codehilite"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">diff</span><span class="w"> </span><span class="o">--</span><span class="n">staged</span><span class="w"> </span><span class="o">[</span><span class="n">file</span><span class="o">]</span><span class="w"></span>
<span class="n">git</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">-</span><span class="n">v</span><span class="w"> </span><span class="o">[</span><span class="n">file</span><span class="o">]</span><span class="w"></span>
</code></pre></div>

</details>
<details class="question">
<summary>#2: I'm not sure what will change when I pull changes from remote. Is it possible to see remote changes before issuing <code>git pull</code> ?</summary>
<p><code>git pull</code> is a combined action of <code>git fetch</code> and <code>git merge</code>. So fetch the changes first without merging. Then check the remote commit log or actual changes ( <code>-p</code> option )</p>
<div class="codehilite"><pre><span></span><code>git fetch &amp;&amp; git log origin/master ^master [-p]
</code></pre></div>

<p>If you just want to see what files will be modified if you do a <code>git pull</code>, do this - @{u} means upstream</p>
<div class="codehilite"><pre><span></span><code>git fetch &amp;&amp; git diff HEAD @{u} --name-only
</code></pre></div>

<p>If you want to see ALL different files between your current version and the incoming version, including uncommited local modifications, type this</p>
<div class="codehilite"><pre><span></span><code>git fetch &amp;&amp; git diff @{u} --name-only
</code></pre></div>

</details>
<details class="question">
<summary>#3 Can I view a file from specific commit without reverting the history to that commit?</summary>
<p>To display whole file (e.g. `Jenkinsfile) from specific commit</p>
<div class="codehilite"><pre><span></span><code><span class="nv">git</span> <span class="k">show</span> <span class="nv">f76789f514c1db57c82d1a932cd7c5362b31a397</span>:<span class="nv">Jenkinsfile</span>
</code></pre></div>

<p>To display only diff from current state in local tree</p>
<div class="codehilite"><pre><span></span><code>git diff f76789f514c1db57c82d1a932cd7c5362b31a397 Jenkinsfile
</code></pre></div>

</details>
<h2 id="branching">Branching<a class="headerlink" href="#branching" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1: How do I view a file from different branch (without checking that branch out)? I can't checkout without stashing, my files would be overwritten by the checkout</summary>
<p>Use the following command to view file <code>Dockerfile</code> from branch <code>dev</code> directly from a different branch</p>
<div class="codehilite"><pre><span></span><code><span class="nv">git</span> <span class="k">show</span> <span class="nv">dev</span>:.<span class="o">/</span><span class="nv">Dockerfile</span>
</code></pre></div>

</details>
<details class="question">
<summary>#2 I want to switch between branches quickly - is that possible?</summary>
<p>You can switch between current and previous branch using <code>-</code> option to <code>git checkout</code></p>
<div class="codehilite"><pre><span></span><code>git checkout -
</code></pre></div>

</details>
<details class="question">
<summary>#3 How do I remove stale branches from my local machine?</summary>
<p>To remove stale branches that were deleted from remote from your local tree</p>
<div class="codehilite"><pre><span></span><code>git fetch -p
</code></pre></div>

</details>
<details class="question">
<summary>#4 Can I generate a changelog based on commits from my feature (FTR) branch?</summary>
<p>To create or update a CHANGELOG.md file from your recent commits you can use the bash oneliner below. It compares the commits from your FTR/SR2 branch with arbitrary branch without the commits. Run it from your FTR/SR2 branch before doing merge or rebase. You can pick any local/remote branch to compare. The example below uses local copy of Example1.3 branch. To use e.g. master branch on your remote, replace <code>^Example1.3</code> with <code>^remotes/origin/master</code>. The oneliner will produce a <code>CHANGELOG.md</code> file, which can be used in the repo or manually edited to suit your needs.</p>
<div class="codehilite"><pre><span></span><code>{ echo -e &quot;\n### [`git rev-parse --abbrev-ref HEAD`] - `date +&#39;%Y-%m-%d&#39;`&quot;; git log --pretty=&quot;- %s&quot; HEAD ^Example1.3 ; } &gt;&gt; CHANGELOG.md
</code></pre></div>

</details>
<details class="question">
<summary>#5 I want to compare commits in 2 different branches. How do I do that?</summary>
<p>Let's take <code>master</code> and <code>Example1.3</code> branches as an example. To get commits which are in <code>Example1.3</code> only (thus AHEAD of <code>master</code>):</p>
<div class="codehilite"><pre><span></span><code>git log  master..Example1.3
</code></pre></div>

<p>To get commits which are in master only and not in Example1.3 (thus behind  master)</p>
<div class="codehilite"><pre><span></span><code>git log Example1.3..master
</code></pre></div>

<p>There’s also a third command which will filter out the common commits and show the difference – note 3 dots instead of 2:</p>
<div class="codehilite"><pre><span></span><code>git log master…Example1.3
</code></pre></div>

</details>
<h2 id="undoing">Undoing<a class="headerlink" href="#undoing" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1: I don't like my local changes. I didn't commit yet. How do I remove the changes?</summary>
<p>Discard local (uncommitted) changes to a file - reset to previous state</p>
<div class="codehilite"><pre><span></span><code>git checkout -- &lt;file&gt;
</code></pre></div>

<p>Discard all local changes to all files permanently</p>
<div class="codehilite"><pre><span></span><code>git reset --hard
</code></pre></div>

</details>
<details class="question">
<summary>#2: I don't like my local changes, but I committed already. How do I remove those commits/changes?</summary>
<p>Reset local changes (remove unwanted commits) but leave files intact</p>
<div class="codehilite"><pre><span></span><code>git reset &lt;last good SHA&gt;
</code></pre></div>

<p>Reset local changes (remove unwanted commits) and remove changes in files too</p>
<div class="codehilite"><pre><span></span><code>git reset --hard &lt;last good SHA&gt;
</code></pre></div>

<p>You can always use ~N shortcut, where N represents number of commits to roll back. E.g.,  to reset local changes (remove unwanted commits) and remove changes in files 3 commits back, do</p>
<div class="codehilite"><pre><span></span><code>git reset --hard HEAD~3
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note on using --hard</p>
<p>Note the <code>--hard</code> switch to <code>git reset</code> can be dangerous. You can easily lose changes that haven't been commited yet. Use with caution.</p>
</div>
</details>
<details class="question">
<summary>#3: I made a typo in my commit message. How do I change it?</summary>
<p>Amend last commit's commit message</p>
<div class="codehilite"><pre><span></span><code>git commit --amend
</code></pre></div>

</details>
<details class="question">
<summary>#4: I noticed I forgot to add a change to the last commit. Is it possible to add it without creating a new commit?</summary>
<p>After adding the change, amend the last commit (optionally without changing the commit message, note the --no-edit option)</p>
<div class="codehilite"><pre><span></span><code>git add changed_file
git commit --amend --no-edit
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note on amending already pushed commits</p>
<p>You can amend a commit even if it was pushed to remote already. This is not recommended, as somebody could have pulled the commit from remote. Anyway, if you're sure nobody pulled the commit from remote, you can force push the amended commit</p>
<div class="codehilite"><pre><span></span><code>git push --force
</code></pre></div>

</div>
</details>
<details class="question">
<summary>#5: My history looks bad - there are too many unnecessary commits (e.g. from testing). Can I clear the history and start from scratch?</summary>
<p>Sure, but do this only on personal projects with no collaborators. Always have a backup ready, this process can't be reverted</p>
<p>Remove history &amp; config of the repository. Assuming CWD is the repository root</p>
<div class="codehilite"><pre><span></span><code>cat .git/config  # note &lt;github-uri&gt;
rm -rf .git
</code></pre></div>

<p>Reconstruct the Git repo with only the current content</p>
<div class="codehilite"><pre><span></span><code>git init
git add .
git commit -m &quot;Initial commit&quot;
</code></pre></div>

<p>Push to github</p>
<div class="codehilite"><pre><span></span><code>git remote add origin &lt;github-uri&gt;
git push -u --force origin master
</code></pre></div>

</details>
<details class="question">
<summary>#6 Somebody deleted my files accidentally! How do I find the commit where it happened?</summary>
<p>Find commit which deleted a file (importsles directory in this case)</p>
<div class="codehilite"><pre><span></span><code>git log --diff-filter=D -- &quot;*importsles*&quot;
</code></pre></div>

<p>Restore the deleted directory and it's content</p>
<div class="codehilite"><pre><span></span><code>git checkout afd2c9e882b3a713530d6d4432c3bb2821ad8ebf^ -- docs/Example/img/importsles/
</code></pre></div>

</details>
<details class="question">
<summary>#7 I staged some file accidentally. How to unstage?</summary>
<p>Restore what is staged to previous state (unstage)</p>
<div class="codehilite"><pre><span></span><code>git restore --staged docs/Example/img/importsles/Example1.png
</code></pre></div>

</details>
<h2 id="authoring">Authoring<a class="headerlink" href="#authoring" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1 I'm on a remote machine and want to commit &amp; push to remote with my github identity. How to setup the shell environment?</summary>
<p>Set user name and email address</p>
<div class="codehilite"><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">--</span><span class="k">global</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="ss">&quot;John Doe&quot;</span><span class="w"></span>
<span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="c1">--global user.email john.doe@example.com</span>
</code></pre></div>

<p>If you commited already and got a warning message about your identity</p>
<div class="codehilite"><pre><span></span><code>git commit --amend --reset-author
</code></pre></div>

</details>
<details class="question">
<summary>#2 While working on remote, I want to customize the shell prompt so it looks like the local git bash I run on Windows</summary>
<p>Run the following commands in bash shell. Requires Internet access, setup proxy if necessary</p>
<div class="codehilite"><pre><span></span><code>cd ~
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh
</code></pre></div>

<p>Add to ~/.bashrc</p>
<div class="codehilite"><pre><span></span><code><span class="o">.</span><span class="w"> </span><span class="o">~/</span><span class="n">git</span><span class="o">-</span><span class="n">completion</span><span class="o">.</span><span class="n">bash</span><span class="w"></span>
<span class="o">.</span><span class="w"> </span><span class="o">~/</span><span class="n">git</span><span class="o">-</span><span class="n">prompt</span><span class="o">.</span><span class="n">sh</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">GIT_PS1_SHOWDIRTYSTATE</span><span class="o">=</span><span class="mi">1</span><span class="w"></span>
<span class="k">export</span><span class="w"> </span><span class="n">PS1</span><span class="o">=</span><span class="s1">&#39;\[</span><span class="se">\033</span><span class="s1">[32m\]\u@\h \[</span><span class="se">\033</span><span class="s1">[33m\]\w\[</span><span class="se">\033</span><span class="s1">[36m\]$(__git_ps1 &quot; (</span><span class="si">%s</span><span class="s1">)&quot;)</span><span class="se">\n</span><span class="s1">\[</span><span class="se">\033</span><span class="s1">[0m\]\$ &#39;</span><span class="w"></span>
</code></pre></div>

</details>
<h2 id="patching">Patching<a class="headerlink" href="#patching" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1 I updated Documentation repository (e.g. <code>Documentation-1.5</code>) and want to update other <code>Documentation-1.X</code> repositories without doing the same work multiple times. How do I do that?</summary>
<p>You can patch similar repositories using the following procedure</p>
<div class="codehilite"><pre><span></span><code>cd Documentation-1.5
</code></pre></div>

<p>Create a patch from last commit. Following command creates a patch from the last commit. Note you can create patches for multiple commits at once by incrementing the <code>-1</code> option</p>
<div class="codehilite"><pre><span></span><code>git format-patch -1
</code></pre></div>

<p>Change working directory to the destination repository, e.g. <code>Documentation-1.4</code></p>
<div class="codehilite"><pre><span></span><code>cd ../Documentation-1.4
</code></pre></div>

<p>Check if the patch can be applied</p>
<div class="codehilite"><pre><span></span><code>git apply --check ../Documentation-1.5/0001-Example.md.patch
</code></pre></div>

<p>Apply the patch</p>
<div class="codehilite"><pre><span></span><code>git am &lt; ../Documentation-1.5/0001-Example.md.patch
</code></pre></div>

</details>
<details class="question">
<summary>#2 Can I create a patch from specific commit?</summary>
<p>To create a patch from specific commit add the commit hash to the command</p>
<div class="codehilite"><pre><span></span><code>git format-patch -n1 718c2f1c7e2b6792d7122191b7881433189ce781
</code></pre></div>

</details>
<details class="question">
<summary>#3 Can I create a patch just for a specific file?</summary>
<p>To create a patch from specific commit for one particular file only issue the command below. Beware other files changed in that commit won't be updated by the patch</p>
<div class="codehilite"><pre><span></span><code>git format-patch -n1 2fc7caaca230012fc2d3f1cc3a9aa2ad177f3e82 docs/Example/Example.md
</code></pre></div>

</details>
<details class="question">
<summary>#4 I didn't commit my changes yet. Can I create a patch from a modified file?</summary>
<p>To create a patch from modified files issue the command below. If you staged the changes already, use <code>--staged</code> option to <code>git diff</code></p>
<div class="codehilite"><pre><span></span><code>git diff &gt; Example.yml.patch
</code></pre></div>

<p>To apply the patch change your working directory to whatever repo you want to patch and issue the following command</p>
<div class="codehilite"><pre><span></span><code>git apply Example.yml.patch
</code></pre></div>

</details>
<h2 id="stashes">Stashes<a class="headerlink" href="#stashes" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>#1 I want to checkout to a different branch but git says my changes would be overwritten by the checkout. How to deal with this situation?</summary>
<p>Use stashes in this case. Stash your changes on tracked files</p>
<div class="codehilite"><pre><span></span><code>git stash
</code></pre></div>

<p>Now you can switch to new branch</p>
<div class="codehilite"><pre><span></span><code>git checkout -b my-new-branch
</code></pre></div>

<p>Apply the changes stored in stash in the new branch if desired. Note the stash number can be obtained using <code>git stash list</code></p>
<div class="codehilite"><pre><span></span><code>git stash apply stash@{0}
</code></pre></div>

</details>
<h2 id="tags">Tags<a class="headerlink" href="#tags" title="Permanent link">&para;</a></h2>
<details class="question">
<summary>Can I create a release on github from the command line?</summary>
<p>Yes, a release on github is created when a tag is pushed to remote. Create a tag first using</p>
<div class="codehilite"><pre><span></span><code>git tag v1.0.1
</code></pre></div>

<p>Push the tag to remote (github). This will push the tag and create a release on github. Note tags are not pushed by default</p>
<div class="codehilite"><pre><span></span><code>git push --tags
</code></pre></div>

<p>To show which commit your tag points to, use</p>
<div class="codehilite"><pre><span></span><code>git log v1.0.1
</code></pre></div>

<p>To delete the release from github, use</p>
<div class="codehilite"><pre><span></span><code>git push --delete origin v1.0.1
</code></pre></div>

</details>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href=".." class="btn btn-neutral" title="Welcome to MkDocs"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
